<div class="row">
  <div class="col">
    <div class="upload-wrapper">
      <div *ngIf="!sessionService.isAuthenticated" class="upload-overlay"></div>

      <div
        class="drop-files bg-primary small-font"
        appUpload
        role="button"
        tabindex="0"
        (click)="uploadInput.click()"
        (keyup.enter)="uploadInput.click()"
        (keyup.space)="uploadInput.click()"
      >
        <div class="text-white">
          <div class="row align-items-center justify-content-center g-3">
            <div class="col-auto">
              <fa-icon [icon]="faFilePdf" size="4x"></fa-icon>
            </div>
            <div class="col-auto">
              <p class="h5 mb-2">Arraste os arquivos ou selecione abaixo:</p>
              <input
                id="fileupload"
                type="file"
                name="brokerageNote"
                class="form-control"
                multiple
                (change)="handleFileInput($event)"
                (click)="$event.stopPropagation()"
                #uploadInput
              />
            </div>
          </div>
        </div>

        <div
          id="status-wrapper"
          class="bg-light px-1 py-0 border border-secondary rounded mt-3"
          [class.d-none]="!hasNotes()"
        >
          <span
            class="badge ml-1 mb-1"
            *ngFor="let upload of uploads"
            [class.bg-secondary]="!upload.responseComplete"
            [class.bg-danger]="upload.serverError"
            [class.bg-success]="upload.responseComplete && !upload.serverError"
          >
            {{ upload.filename }}
            <img
              src="../../assets/ajax-loader.gif"
              alt="Loading"
              *ngIf="!upload.responseComplete"
            />
          </span>
        </div>
      </div>
    </div>

    <div class="mt-3 p-3 bg-danger bg-gradient-danger small-font" *ngIf="hasServerErrors()">
      <h4 class="text-white">Erros</h4>
      <ul class="list-group list-group-numbered list-group-flush bg-danger-subtle rounded">
        <li class="list-group-item list-group-item-danger" *ngFor="let upload of uploads">
          {{ getErrorMessage(upload) }}
        </li>
      </ul>
    </div>
  </div>
</div>
